/* -------------------------------------------------------------- 

DESKTOP CSS
mzalendo.com

AUTHOR: Josh Angell, Supercool
josh [at] supercooldesign.co.uk

  1. RESET / CORE
  2. DESKTOP LAYOUT
  3. SHARED ELEMENTS
  4. PAGE SPECIFIC
  5. MEDIA QUERIES

-------------------------------------------------------------- */



/* 1. RESET / CORE
-------------------------------------------------------------- */
@import "core";


/* 2. DESKTOP LAYOUT
   960px
   cols    1   2   3    4    5    6    7    8    9    10   11    12    13    14    15    16    17    18    19    20    21    22    23    24    25    26    27    28    29    30    31    32
   px      30  60  90   120  150  180  210  240  270  300  330   360   390   420   450   480   510   540   570   600   630   660   690   720   750   780   810   840   870   900   930   960
-------------------------------------------------------------- */
.wrapper {
  max-width:960px;
  margin:0 auto;
}
#site-header {
  background:$colour1;
  @include background(linear-gradient($colour1/0.75, $colour1));
  height:60px;
  .wrapper {
    position:relative;
    overflow:visible;
    menu#site-user-tools {
      position:absolute;
      right:200px;
      top:15px;
      ul {
        li.login,
        li.logged-in,
        li.login a,
        li.logged-in a {
          padding:0;
          color:$colour6;
          background:none;
          border:none;
          font: {
            size:13px;
            weight:normal;
          }
          text-decoration:none;
          a:hover {
            background:none;
            text-decoration:underline;
          }
        }
        li.login {
          text-transform:uppercase;
          height:20px;
          width:70px;
          a {
            font-size:11px;
            padding:0 16px 0 10px;
            @include border-radius(2px);
            background:#000000 url(../images/login-arrows.png) 54px -22px no-repeat;
            @include background(
              url(../images/login-arrows.png) 54px -22px no-repeat,
              linear-gradient(#707070, #000000)
            );
            &:hover {
              text-decoration:none;
              background:#707070 url(../images/login-arrows.png) 54px -22px no-repeat;
              @include background(
                url(../images/login-arrows.png) 54px -22px no-repeat,
                linear-gradient(#000000, #707070)
              );
            }
          }
        }
        li.active {
          position:relative;
          border-top:1px solid #666666;
          border-left:1px solid #666666;
          border-right:1px solid #666666;
          z-index:2;
          a {
            color:$colour8;
            @include border-radius(0);
            background:$colour7 url(../images/login-arrows.png) 54px 8px no-repeat;
            &:hover {
              color:$colour5;
              background:$colour7 url(../images/login-arrows.png) 54px 8px no-repeat;
            }
          }
        }
      }
    }
    #login-box {
      z-index:1;
      position:absolute;
      right:200px;
      top:35px;
      display:none;
      background:$colour7;
      border:1px solid #666666;
      width:200px;
      padding:10px;
      #login {
        padding:0;
        margin:0;
        width:auto;
        form {
          width:auto;
          input#id_username,
          input#id_password {
            width:188px;
            margin:0 0 10px 0;
          }
          input.login-button {
            margin:0;
          }
          p.forgot-register {
            margin:0;
            font-size:11px;
          }
        }
        .login-social {
          margin:0;
          font-size:12px;
        }
      }
    }
    #logo {
      position:absolute;
      left:0;
      top:10px;
      height:34px;
      width:418px;
      background:url(../images/d-logo.png) 0 center no-repeat;
    }
    #search {
      position:absolute;
      top:10px;
      right:0;
      background:transparent;
      padding:0;
      height:auto;
      border:none;
      input {
        width:100px;
        border:1px solid $colour5;
        font-size:14px;
      }
      button {
        width:26px;
        height:26px;
        margin:0 0 0 -2px;
      }
    }
  }
}
#main-menu {
  background:$colour5;
  @include background(linear-gradient($colour5, $colour4/1.4));
  nav {
    text-align:center;
    ul {
      @include inline-block;
      // overflow:hidden;
      width:auto;
      li {
        display:inline;
        float:left;
        height:40px;
        border-right:2px solid $colour5;
        &:last-child,
        &.last {
          border-right:0;
        }
        a {
          float:left;
          border-bottom:0;
          font: {
            size:16px;
            weight:normal;
          }
          padding:10px 16px;
          @include background(linear-gradient($colour5, $colour4/1.4));
          &:hover {
            @include background(linear-gradient($colour4/1.4, $colour5));
          }
        }
      }
    }
  }
}

#breadcrumb {
  height:40px;
  nav {
    ul {
      @include list-reset-soft;
      display:block;
      width:100%;
      padding:10px 0;
      margin-bottom:10px;
      float:left;
      li,
      li.page-title,
      li a {
        display:inline;
        padding:0;
        color:$colour8;
        background:none;
        text-decoration:none;
        font: {
          size:12px;
          weight:normal;
        }
      }
      li .sep {
        padding-left: 0.5em;
        padding-right: 0.5em;
      }
      li a:hover {
        text-decoration:underline;
        color:$colour4;
      }
    }
  }
}

#page {
  .page-wrapper {
    clear: both;
    display:block;
    overflow:hidden;
    position:relative;
  }
  .title-space {
    max-width:510px;
    min-height:0;
    float:left;
    clear:left;
    margin:0 0 20px 240px;
    position:relative;
    .object-kind {
      font: {
        style:normal;
        weight:bold;
        size:12px;
      }
      margin:0;
      text-transform:uppercase;
    }
  }
  .profile-pic {
    height:200px;
    width:210px;
    position:absolute;
    top:0;
    left:0;
    img {
      width:auto;
      height:200px;
    }
    #map_canvas {
      width:200px;
      height:200px;
    }
  }
  .small-container {
    max-width:510px;
    clear:left;
    margin-left:240px;
    h3.scorecard-overall {
      margin:0;
      padding:15px 10px 10px 10px;
      background:$colour9;
      border-bottom:2px solid $colour6;
      span {
        @include inline-block;
        height:32px;
        padding:5px 0 0 130px;
        margin:-5px 0 0 24px;
        background:url(../images/d-smiley-sprite.png) 0 0 no-repeat;
        &.score-overall-good {
          background-position:left -2px;
        }
        &.score-overall-average {
          background-position:left -44px;
        }
        &.score-overall-bad {
          background-position:left -82px;
        }
      }
    }
    ul.scorecard {
      @include list-reset-soft;
      display:block;
      li {
        article {
          &.has-details {
            &:hover {
              cursor:pointer;
              background-color:$colour7;
            }
            &.active {
              background-color:$colour7;
              header{
                background:url(../images/arrow-up.png) right 0 no-repeat;
              }
            }
            header {
              background:url(../images/arrow-down.png) right 0 no-repeat;            
            }
          }
          header {
            overflow:hidden;
            h4 {
              float:left;
              width:120px;
              line-height: 1em /* tightened up for line-wrapping */
            }
            p {
              float:left;
              max-width:250px;
              font-style:italic;
              margin:0 0 0 20px;
              padding:0 0 4px 60px;
              &.score-good {
                background:url(../images/score-good.png) left 0 no-repeat;
              }
              &.score-average {
                background:url(../images/score-average.png) left 0 no-repeat;
              }
              &.score-bad {
                background:url(../images/score-bad.png) left 0 no-repeat;
              }
            }
          }
          div.details {
            margin: 0px 0px 8px 200px; /* 200 from 120 (width of head) + 80 (padding+margin of text) */
            display:block;
            margin-top:10px;
            p {
              font-size:13px;
            }
          }
        }
      }
    }
  }
  .profile-info {
    min-height:200px;
    width:210px;
    position:absolute;
    top:210px;
    left:0;
    h3 {
      text-transform:uppercase;
      color:$colour8;
      font-size:12px;
      margin-bottom:0;
    }
    .constituency-party {
      ul {
        margin-bottom:10px;
        li {
          border:0;
          margin-bottom:5px;
          a {
            background:$colour10;
            color:$colour6;
            padding:5px;
            @include border-radius(5px);
            &:hover {
              background:$colour11;
            }
          }
        }
      }
    }
    .vcard li .label {
      margin:0;
    }
  }
  .large-container {
    position:relative;
    max-width:720px;
    float:left;
    clear:left;
    margin-left:240px;
    .left-col,
    .right-col {
      width:335px;
      float:left;
    }
    .left-col {
      margin-right:30px;
    }
    p, h3 {
      margin-left:0;
      margin-right:0;
    }
    section {
      h3 {
        margin:20px 0 0 0;
      }
      ul {
        margin-bottom:30px;
        li {
          margin-left:0;
          margin-right:0;
        }
        &.tools {
          li {
            margin-left:5px;
          }
        }
      }
    }
    article {
      h3 {
        margin:20px 0 5px 0;
        border:none;
      }
    }
    #tab-nav {
      display:block;
      border-bottom: 1px solid #bbb;
      margin: 30px 0 0 0;
      z-index:1;
      position:relative;
      height:38px;
      ul {
        @include list-reset;
        position:relative;
        z-index:2;
        li {
          display: inline;
          float:left;
          a {
            display: block;
            float:left;
            color:$colour1;
            text-decoration:none;
            font-size:13px;
            padding:9px 15px 8px 15px;
            margin-right:4px;
            border:1px solid #bbb;
            @include background(linear-gradient(#fff, #f6f6f6));
            &:hover{
              background: #fff;
              color:$colour2;
            }
          }
          &.active a {
            color:$colour5;
            padding:9px 15px;
            background:#fff;
            border-bottom:1px solid #fff;
            @include border-radius(0 0 2px 2px);
          }
        }
      }
    }
    .tab-wrapper {
      clear:both;
      border-left:1px solid #bbb;
      padding:15px 0 0 15px;
      position:relative;
      top:-1px;
    }
  }
  #comments {
    display:block;
    .big-btn-text-green {
      float:right;
      @include inline-block;
    }
    h3 {
      clear:both;
    }
  }
  .social-and-tools {
    display:block;
    width:180px;
    float:right;
    .fb-like,
    .twitter-share-button,
    iframe {
      display:inline;
      float:left;
      width:84px !important;
    }
    .twitter-share-button {
      width:96px !important;
    }
    ul {
      clear:both;
      margin:30px 0 0 0;
      li {
        a {
          padding:5px;
          margin:5px 0;
          font: {
            size:14px;
            weight:normal;
          }
        }
      }
    }
  }
  h2, h3 {
    border-top:none;
    background:none;
    padding:0;
  }
}

/* 3. SHARED ELEMENTS
-------------------------------------------------------------- */
ul.comments {
  li {
    img {
      width:60px;
      height:60px;
    }
    section {
      clear:none;
    }
    .tools,
    .read-more-wrap {
      left:-999999px;
    }
    &:hover,
    &.hovered {
      .tools,
      .read-more-wrap {
        left:auto;
      }
    }
  }
}
.tab {
  ul.comments,
  ul.listing {
    li {
      section {
        width:580px;
      }
    }
  }
}
ul.listing {
  li {
    img {
      width:90px;
      height:90px;
    }
    section {
      clear:none;
      .read-more-wrap {
        top:auto;
        bottom:15px;
      }
      a.read-more {
        @include button-reset-text;
        text-indent:0;
        width:auto;
        height:auto;
      }
    }
  }
}

/* 4. PAGE SPECIFIC
-------------------------------------------------------------- */
/* HOME */
#page {
  .home-left {
    float:left;
    width:420px;
    clear:left;
    margin-right:30px;
    h2#home-intro {
      display:block;
      text-transform:none;
      color:$colour1;
      margin-top:15px;
      line-height:25px;
      padding: 6px;
      background:url(../images/arrow-down.png) right 0 no-repeat;
      font: {
        weight:normal;
        size:16px;
      }
      &:hover {
        background-color: $colour15;
        color: $colour1;
        cursor: pointer;
      } 
      .details {
        display: none;
      }       
      &.active {
        background:$colour15 url(../images/arrow-up.png) right 0 no-repeat;
      }
    }
  }
  .home-right {
    float:left;
    width:510px;
  }
}
#home-search {
  margin:30px 0;
  padding:20px;
  input {
    width:260px;
  }
}
#home-featured {
  margin:0 0 30px 0;
  padding:0;
  position:relative;
  img {
    width:auto;
    float:none;
    margin:0;
  }
  .caption {
    position:absolute;
    bottom:0;
    left:0;
    padding:10px;
    width:490px;
    background:$colour5;
    background:rgba(0, 0, 0, 0.8);
    color:$colour6;
    h4 {
      display:none;
    }
  }
}
ul#home-news-list {
  margin-top:15px;
  li {
    h3, p {
      padding:0;
    }
    img {
      margin-right:0;
    }
  }
}
#home-mpratings {
  margin:15px 0 30px 0;
  padding:0;
  background:url(../images/ex-home.png) 0 0 no-repeat;
  height:224px;
  img, h3 {
    display:none;
  }
}
#twitter {
  display:block;
  float:left;
  width:375px;
  h2 {
    color: $colour8;
    font-size:18px;
    text-transform:uppercase;
  }
  .tw-wrap {
    padding:20px;
    min-height:58px;
    background:$colour9 url(../images/quotes.png) 10px 10px no-repeat;
  }
  p {
    margin:0;
    &.meta {
      color:$colour8;
      margin-top:10px;
      font: {
        size:13px;
        style:italic;
      }
    }
  }
  .btn-text-green {
    margin-top:10px;
    float:right;
  }
} 

#page .home-right .social-and-tools {
  margin-top:30px;
  width:90px;
  position:relative;
  .fb-like,
  .twitter-share-button,
  iframe {
    display:block;
    float:none;
    margin-bottom:15px;
  }
  .tw-nub {
    display:block;
    width:23px;
    height:26px;
    position:absolute;
    bottom:-4px;
    left:-45px;
    background:url(../images/nub.png) 0 0 no-repeat;
  }
  .tw-follow {
    @include inline-block;
  }
}

.featured-person {
  color:$colour6;
  margin:0.666em 0 2em 0;
  background-color:$colour1;
  img {
    float:left;
    max-width: 200px;
  }
  .featured-person-info {
    margin-left:200px;
    padding:10px;
    background-color:$colour1;
    .feature-nav {
      float:right; 
      display:block;
      width:20px;
      height:20px;
      background-image:url(/static/images/feature_chevrons.png);
      background-repeat: no-repeat;          
      &.feature-prev {
        background-position: 0 0; 
        &:hover {
          background-position:0 -20px;
        }
      }
      &.feature-next {
        background-position: -20px 0;
        &:hover {
          background-position:-20px -20px;
        }
      }
    }
  }
  .rating {
    margin:0.5em 0 0 0;
    font-size:1.2em; 
    min-height:24px;
    background-position: right 0;
    background-repeat: no-repeat;
    &.bad {
      background-image:url(/static/images/score-bad.png);
    }
    &.average {
      background-image:url(/static/images/score-average.png);
    }
    &.good {
      background-image:url(/static/images/score-good.png);
    }
  }
  &.featured-person-placeholder {
    text-align: center;
    height: 250px;
    background: $colour1 url(/static/images/logo-450-x-150.png) center center no-repeat;
  }
}

/* =================================== */


/* Login Page */
#login-pagetitle {
  display:block;
  background:$colour7;
  margin:0 auto;
  padding:10px;
  width:300px;
}
#login {
  background:$colour7;
  padding:0 10px 10px 10px;
  overflow:hidden;
  margin:0 auto;
  width:300px;
  p.error {
    @include border-radius(6px);
  }
  form {
    width:300px;
    input#id_username,
    input#id_password {
      width:288px;
      margin:10px 0;
    }
    input.login-button {
      margin:0;
    }
    p.forgot-register {
      margin:0;
    }
  }
  .login-social {
    margin:0;
  }
}

/* ============ markdown used in e.g., info pages ============ */

.markdown {
  h2, h3 {
    margin-top:2em;
  }
  h4 {
    margin: 2em 0 0.333em 0;
    padding-bottom: 0.2em;
    border-bottom:2px solid $colour7;
  }
  
}

/* 5. MEDIA QUERIES
   for tablets mainly, but also smaller screens
   that can't handle 960px
-------------------------------------------------------------- */
@media only screen and (min-width: 640px) and (max-width: 960px) {
  #main-menu nav ul li {
    height:36px;
    a {
      font-size:14px;
      padding:8px 10px;
    }
  }
  #page {
    .title-space {
      padding-top:35px;
    }
    .fb-like,
    .twitter-share-button {
      margin-top:7px;
    }
    .social-and-tools {
      display:block;
      width:auto;
      position:absolute;
      right:0;
      top:0;
      float:none;
      ul {
        margin:0;
        float:left;
        clear:none;
        li {
          display:inline;
          a {
            display:inline-block;
          }
        }
      }
    }
    .home-right .social-and-tools {
      position:relative;
      right:auto;
      top:auto;
      float:right;
      ul {
        float:none;
        li {
          display:block;
        }
      }
    }
  }
}